@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Inter:wght@300;400;500;600&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Luxury Real Estate Palette */
    --background: 0 0% 100%;
    --foreground: 220 20% 15%;

    --card: 40 20% 98%;
    --card-foreground: 220 20% 15%;

    --popover: 0 0% 100%;
    --popover-foreground: 220 20% 15%;

    /* Deep Navy - Primary */
    --primary: 220 40% 13%;
    --primary-foreground: 40 30% 95%;

    /* Warm Neutral - Secondary */
    --secondary: 35 15% 93%;
    --secondary-foreground: 220 20% 15%;

    /* Muted tones */
    --muted: 35 10% 94%;
    --muted-foreground: 220 10% 45%;

    /* Gold Accent */
    --accent: 38 70% 50%;
    --accent-foreground: 220 40% 10%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;

    --border: 35 15% 88%;
    --input: 35 15% 88%;
    --ring: 38 70% 50%;

    --radius: 0.5rem;

    /* Custom Gradients */
    --gradient-hero: linear-gradient(135deg, hsl(220 40% 8%) 0%, hsl(220 35% 18%) 100%);
    --gradient-gold: linear-gradient(135deg, hsl(38 70% 50%) 0%, hsl(35 80% 60%) 100%);
    /* Improved overlay gradient for better text contrast */
    --gradient-overlay: linear-gradient(180deg, hsla(220 40% 8% / 0.75) 0%, hsla(220 40% 8% / 0.65) 100%);

    /* Shadows */
    --shadow-soft: 0 4px 20px -4px hsla(220 40% 10% / 0.08);
    --shadow-elevated: 0 12px 40px -8px hsla(220 40% 10% / 0.15);
    --shadow-gold: 0 4px 20px -4px hsla(38 70% 50% / 0.3);

    /* Sidebar */
    --sidebar-background: 0 0% 98%;
    --sidebar-foreground: 240 5.3% 26.1%;
    --sidebar-primary: 240 5.9% 10%;
    --sidebar-primary-foreground: 0 0% 98%;
    --sidebar-accent: 240 4.8% 95.9%;
    --sidebar-accent-foreground: 240 5.9% 10%;
    --sidebar-border: 220 13% 91%;
    --sidebar-ring: 217.2 91.2% 59.8%;

    /* Neighborhood-Specific Color Themes */
    --neighborhood-woodlands: 142 45% 35%; /* Forest Green */
    --neighborhood-atascocita: 200 65% 45%; /* Lake Blue */
    --neighborhood-humble: 25 55% 50%; /* Warm Terracotta */
    --neighborhood-kingwood: 160 50% 40%; /* Pine Green */
    --neighborhood-summerwood: 45 75% 55%; /* Sunny Gold */
    --neighborhood-fallcreek: 195 60% 50%; /* Creek Blue */
    --neighborhood-eado: 280 50% 45%; /* Urban Purple */
  }

  .dark {
    --background: 220 40% 8%;
    --foreground: 40 30% 95%;

    --card: 220 35% 12%;
    --card-foreground: 40 30% 95%;

    --popover: 220 35% 12%;
    --popover-foreground: 40 30% 95%;

    --primary: 40 30% 95%;
    --primary-foreground: 220 40% 8%;

    --secondary: 220 30% 18%;
    --secondary-foreground: 40 30% 95%;

    --muted: 220 30% 18%;
    --muted-foreground: 35 10% 60%;

    --accent: 38 70% 50%;
    --accent-foreground: 220 40% 8%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;

    --border: 220 30% 20%;
    --input: 220 30% 20%;
    --ring: 38 70% 50%;

    --sidebar-background: 240 5.9% 10%;
    --sidebar-foreground: 240 4.8% 95.9%;
    --sidebar-primary: 224.3 76.3% 48%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 240 3.7% 15.9%;
    --sidebar-accent-foreground: 240 4.8% 95.9%;
    --sidebar-border: 240 3.7% 15.9%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: 'Inter', sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    /* Improved base font weight for better readability */
    font-weight: 400;
    /* Better line height for body text */
    line-height: 1.6;
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: 'Playfair Display', serif;
    /* Improved line height for headings */
    line-height: 1.2;
    /* Better font weight for headings */
    font-weight: 600;
  }

  /* Ensure minimum font size on mobile */
  @media (max-width: 768px) {
    body {
      font-size: 16px; /* Prevent zoom on iOS */
    }
  }

  /* Improve text contrast for better readability */
  p, li, span, a {
    font-weight: 400;
  }

  /* Stronger font weight for small text */
  .text-xs, .text-sm {
    font-weight: 500;
  }
}

@layer utilities {
  .font-serif {
    font-family: 'Playfair Display', serif;
  }

  .font-sans {
    font-family: 'Inter', sans-serif;
  }

  .text-gradient-gold {
    background: var(--gradient-gold);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .bg-hero-gradient {
    background: var(--gradient-hero);
  }

  .bg-overlay-gradient {
    background: var(--gradient-overlay);
  }

  .shadow-soft {
    box-shadow: var(--shadow-soft);
  }

  .shadow-elevated {
    box-shadow: var(--shadow-elevated);
  }

  .shadow-gold {
    box-shadow: var(--shadow-gold);
  }

  /* Text shadow utilities for better contrast */
  .text-shadow-sm {
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
  }

  .text-shadow-md {
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
  }

  .text-shadow-lg {
    text-shadow: 0 3px 6px rgba(0, 0, 0, 0.5);
  }

  /* Improved readability for overlay text */
  .text-overlay {
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.6);
  }
}

@layer components {
  .animate-fade-up {
    animation: fadeUp 0.8s ease-out forwards;
  }

  .animate-fade-up-delay {
    animation: fadeUp 0.8s ease-out 0.2s forwards;
    opacity: 0;
  }

  .animate-fade-up-delay-2 {
    animation: fadeUp 0.8s ease-out 0.4s forwards;
    opacity: 0;
  }

  @keyframes fadeUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .hover-lift {
    @apply transition-all duration-300;
  }

  .hover-lift:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-elevated);
  }

  .line-accent {
    @apply relative;
  }

  .line-accent::after {
    content: '';
    @apply absolute bottom-0 left-0 w-16 h-0.5 bg-accent;
  }

  /* IDX Container Styles */
  .idx-container {
    @apply w-full;
  }

  .idx-embed-wrapper {
    @apply w-full;
  }

  .idx-embed-wrapper iframe {
    @apply w-full border-0 rounded-lg;
    min-height: 500px;
  }

  /* Hide fallback UI when IDX is loaded */
  .idx-fallback {
    display: none !important;
  }

  /* Ensure proper spacing for fixed header */
  .min-h-screen {
    scroll-margin-top: 80px;
  }
}

/* ============================================
   IDX & New Construction Widget Styling - Luxury Integration
   ============================================ */

/* IDX & Builders Update Iframe Container Enhancements */
.idx-hero-search,
.idx-full-search,
.idx-featured-listings,
.idx-neighborhood-listings,
.idx-new-construction {
  position: relative;
  background: linear-gradient(135deg, hsl(40 20% 98%) 0%, hsl(35 15% 96%) 100%);
  border-radius: 12px;
  padding: 24px;
  box-shadow: 0 12px 40px -8px hsla(220 40% 10% / 0.12);
  border: 1px solid hsl(35 15% 88%);
  overflow: hidden;
}

/* Add decorative gold accent border */
.idx-hero-search::before,
.idx-full-search::before,
.idx-featured-listings::before,
.idx-neighborhood-listings::before,
.idx-new-construction::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
  background: linear-gradient(90deg, hsl(38 70% 50%) 0%, hsl(35 80% 60%) 100%);
  border-radius: 12px 12px 0 0;
}

/* IDX & Builders Update Iframe Styling */
.idx-hero-search iframe,
.idx-full-search iframe,
.idx-featured-listings iframe,
.idx-neighborhood-listings iframe,
.idx-new-construction iframe {
  border: none !important;
  border-radius: 8px;
  background: white;
  box-shadow: 0 4px 20px -4px hsla(220 40% 10% / 0.08);
  transition: all 0.3s ease;
}

/* Hover effect for better interactivity */
.idx-hero-search:hover,
.idx-full-search:hover,
.idx-featured-listings:hover,
.idx-neighborhood-listings:hover,
.idx-new-construction:hover {
  box-shadow: 0 16px 48px -8px hsla(220 40% 10% / 0.18);
  transform: translateY(-2px);
  transition: all 0.3s ease;
}

/* Mobile Responsive Adjustments */
@media (max-width: 768px) {
  .idx-hero-search,
  .idx-full-search,
  .idx-featured-listings,
  .idx-neighborhood-listings,
  .idx-new-construction {
    padding: 16px;
    border-radius: 8px;
  }
}

/* ============================================
   IDX Widget-Specific Styling Attempts
   Note: Cross-origin restrictions limit direct iframe content styling
   ============================================ */

/* Try to style iframe content if same-origin (unlikely with HAR) */
.idx-hero-search iframe html,
.idx-full-search iframe html,
.idx-featured-listings iframe html,
.idx-neighborhood-listings iframe html {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif !important;
}

/* Attempt to override button styles within iframes */
.idx-hero-search iframe button,
.idx-full-search iframe button,
.idx-featured-listings iframe button,
.idx-neighborhood-listings iframe button {
  background: linear-gradient(135deg, hsl(38 70% 50%) 0%, hsl(35 80% 60%) 100%) !important;
  color: hsl(220 40% 10%) !important;
  border: none !important;
  border-radius: 6px !important;
  padding: 10px 20px !important;
  font-weight: 600 !important;
  font-family: 'Inter', sans-serif !important;
  transition: all 0.2s ease !important;
  cursor: pointer !important;
}

.idx-hero-search iframe button:hover,
.idx-full-search iframe button:hover,
.idx-featured-listings iframe button:hover,
.idx-neighborhood-listings iframe button:hover {
  transform: translateY(-2px) !important;
  box-shadow: 0 4px 20px -4px hsla(38 70% 50% / 0.4) !important;
}

/* Attempt to style input fields within iframes */
.idx-hero-search iframe input,
.idx-full-search iframe input,
.idx-featured-listings iframe input,
.idx-neighborhood-listings iframe input {
  border: 1px solid hsl(35 15% 88%) !important;
  border-radius: 6px !important;
  padding: 10px 14px !important;
  font-family: 'Inter', sans-serif !important;
  font-size: 14px !important;
  transition: all 0.2s ease !important;
}

.idx-hero-search iframe input:focus,
.idx-full-search iframe input:focus,
.idx-featured-listings iframe input:focus,
.idx-neighborhood-listings iframe input:focus {
  border-color: hsl(38 70% 50%) !important;
  outline: none !important;
  box-shadow: 0 0 0 3px hsla(38 70% 50% / 0.1) !important;
}

/* Attempt to style select dropdowns within iframes */
.idx-hero-search iframe select,
.idx-full-search iframe select,
.idx-featured-listings iframe select,
.idx-neighborhood-listings iframe select {
  border: 1px solid hsl(35 15% 88%) !important;
  border-radius: 6px !important;
  padding: 10px 14px !important;
  font-family: 'Inter', sans-serif !important;
  background-color: white !important;
  cursor: pointer !important;
}

/* Attempt to style headings within iframes */
.idx-hero-search iframe h1,
.idx-hero-search iframe h2,
.idx-hero-search iframe h3,
.idx-full-search iframe h1,
.idx-full-search iframe h2,
.idx-full-search iframe h3,
.idx-featured-listings iframe h1,
.idx-featured-listings iframe h2,
.idx-featured-listings iframe h3,
.idx-neighborhood-listings iframe h1,
.idx-neighborhood-listings iframe h2,
.idx-neighborhood-listings iframe h3 {
  font-family: 'Playfair Display', Georgia, serif !important;
  color: hsl(220 40% 13%) !important;
  font-weight: 700 !important;
}

/* Attempt to style links within iframes */
.idx-hero-search iframe a,
.idx-full-search iframe a,
.idx-featured-listings iframe a,
.idx-neighborhood-listings iframe a {
  color: hsl(38 70% 50%) !important;
  text-decoration: none !important;
  transition: color 0.2s ease !important;
}

.idx-hero-search iframe a:hover,
.idx-full-search iframe a:hover,
.idx-featured-listings iframe a:hover,
.idx-neighborhood-listings iframe a:hover {
  color: hsl(35 80% 60%) !important;
  text-decoration: underline !important;
}

/* ============================================
   Loading State Styling
   ============================================ */

.idx-loading {
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 400px;
  background: linear-gradient(135deg, hsl(40 20% 98%) 0%, hsl(35 15% 96%) 100%);
  border-radius: 12px;
  border: 1px solid hsl(35 15% 88%);
}

.idx-loading::after {
  content: '';
  width: 48px;
  height: 48px;
  border: 4px solid hsl(35 15% 88%);
  border-top-color: hsl(38 70% 50%);
  border-radius: 50%;
  animation: idx-spin 1s linear infinite;
}

@keyframes idx-spin {
  to {
    transform: rotate(360deg);
  }
}

/* ============================================
   Enhanced Visual Integration
   ============================================ */

/* Add subtle pattern overlay for luxury feel */
.idx-hero-search::after,
.idx-full-search::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image:
    radial-gradient(circle at 20% 50%, hsla(38 70% 50% / 0.03) 0%, transparent 50%),
    radial-gradient(circle at 80% 80%, hsla(220 40% 13% / 0.02) 0%, transparent 50%);
  pointer-events: none;
  border-radius: 12px;
}

/* ============================================
   Neighborhood-Specific Theme Classes
   ============================================ */

/* The Woodlands - Forest Green Theme */
.theme-woodlands {
  --accent: var(--neighborhood-woodlands);
  --accent-foreground: 0 0% 100%;
}

.theme-woodlands .neighborhood-accent {
  color: hsl(var(--neighborhood-woodlands));
}

.theme-woodlands .neighborhood-bg {
  background-color: hsl(var(--neighborhood-woodlands) / 0.1);
}

.theme-woodlands .neighborhood-border {
  border-color: hsl(var(--neighborhood-woodlands) / 0.3);
}

/* Atascocita - Lake Blue Theme */
.theme-atascocita {
  --accent: var(--neighborhood-atascocita);
  --accent-foreground: 0 0% 100%;
}

.theme-atascocita .neighborhood-accent {
  color: hsl(var(--neighborhood-atascocita));
}

.theme-atascocita .neighborhood-bg {
  background-color: hsl(var(--neighborhood-atascocita) / 0.1);
}

.theme-atascocita .neighborhood-border {
  border-color: hsl(var(--neighborhood-atascocita) / 0.3);
}

/* Humble - Warm Terracotta Theme */
.theme-humble {
  --accent: var(--neighborhood-humble);
  --accent-foreground: 0 0% 100%;
}

.theme-humble .neighborhood-accent {
  color: hsl(var(--neighborhood-humble));
}

.theme-humble .neighborhood-bg {
  background-color: hsl(var(--neighborhood-humble) / 0.1);
}

.theme-humble .neighborhood-border {
  border-color: hsl(var(--neighborhood-humble) / 0.3);
}

/* Kingwood - Pine Green Theme */
.theme-kingwood {
  --accent: var(--neighborhood-kingwood);
  --accent-foreground: 0 0% 100%;
}

.theme-kingwood .neighborhood-accent {
  color: hsl(var(--neighborhood-kingwood));
}

.theme-kingwood .neighborhood-bg {
  background-color: hsl(var(--neighborhood-kingwood) / 0.1);
}

.theme-kingwood .neighborhood-border {
  border-color: hsl(var(--neighborhood-kingwood) / 0.3);
}

/* Summerwood - Sunny Gold Theme */
.theme-summerwood {
  --accent: var(--neighborhood-summerwood);
  --accent-foreground: 220 40% 10%;
}

.theme-summerwood .neighborhood-accent {
  color: hsl(var(--neighborhood-summerwood));
}

.theme-summerwood .neighborhood-bg {
  background-color: hsl(var(--neighborhood-summerwood) / 0.1);
}

.theme-summerwood .neighborhood-border {
  border-color: hsl(var(--neighborhood-summerwood) / 0.3);
}

/* Fall Creek - Creek Blue Theme */
.theme-fallcreek {
  --accent: var(--neighborhood-fallcreek);
  --accent-foreground: 0 0% 100%;
}

.theme-fallcreek .neighborhood-accent {
  color: hsl(var(--neighborhood-fallcreek));
}

.theme-fallcreek .neighborhood-bg {
  background-color: hsl(var(--neighborhood-fallcreek) / 0.1);
}

.theme-fallcreek .neighborhood-border {
  border-color: hsl(var(--neighborhood-fallcreek) / 0.3);
}

/* EaDo - Urban Purple Theme */
.theme-eado {
  --accent: var(--neighborhood-eado);
  --accent-foreground: 0 0% 100%;
}

.theme-eado .neighborhood-accent {
  color: hsl(var(--neighborhood-eado));
}

.theme-eado .neighborhood-bg {
  background-color: hsl(var(--neighborhood-eado) / 0.1);
}

.theme-eado .neighborhood-border {
  border-color: hsl(var(--neighborhood-eado) / 0.3);
}

/* Ensure iframe content is above overlay */
.idx-hero-search iframe,
.idx-full-search iframe,
.idx-featured-listings iframe,
.idx-neighborhood-listings iframe {
  position: relative;
  z-index: 1;
}
